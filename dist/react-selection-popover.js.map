{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap a093658506438996b1bb","webpack:///./src/index.js","webpack:///external {\"commonjs\":\"react\",\"commonjs2\":\"react\",\"amd\":\"React\",\"root\":\"React\"}"],"names":[],"mappings":"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","file":"react-selection-popover.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"React\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"react-selection-popover\"] = factory(require(\"react\"));\n\telse\n\t\troot[\"react-selection-popover\"] = factory(root[\"React\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_1__) {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap a093658506438996b1bb\n **/","import React, { Component, PropTypes } from 'react'\n\n// this should be the entry point to your library\nclass SelectionPopover extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      showPopover: false,\n      popoverBox: {\n        width: 0,\n        height: 0\n      },\n      selectionBox: {\n        top: 0,\n        left: 0,\n        width: 0\n      }\n    }\n  }\n\n  componentDidMount() {\n    const target = document.querySelectorAll('[data-selectable]')[0]\n    target.addEventListener('mouseup', this._handleMouseUp)\n    document.addEventListener('mouseup', this._handleWindowMouseUp)\n  }\n\n  componentWillUnmount() {\n    const target = document.querySelectorAll('[data-selectable]')[0]\n    target.removeEventListener('mouseup', this._handleMouseUp)\n    document.removeEventListener('mouseup', this._handleWindowMouseUp)\n  }\n\n  render() {\n    const { children, style, topOffset, ...otherProps } = this.props\n    const { showPopover, selectionBox, popoverBox } = this.state\n    const visibility = showPopover ? 'visible' : 'hidden'\n\n    return (\n      <div\n        ref=\"selectionPopover\"\n        style={{\n          visibility,\n          position: 'absolute',\n          top: selectionBox.top - topOffset,\n          left: ((selectionBox.width / 2) - (popoverBox.width / 2)) + selectionBox.left,\n          ...style\n        }}\n        {...otherProps}\n        onClick={this._handlePopoverClick}\n      >\n        {children}\n      </div>\n    )\n  }\n\n  _handlePopoverClick = () => {\n    this.setState({\n      showPopover: false\n    })\n  }\n\n  _handleMouseUp = (e) => {\n    e.stopPropagation()\n    const selection = document.getSelection()\n    if (selection.toString().length) {\n      const selectionBox = selection.getRangeAt(0).getBoundingClientRect()\n      this.setState({\n        selectionBox,\n        popoverBox: {\n          width: this.refs.selectionPopover.getBoundingClientRect().width,\n          height: this.refs.selectionPopover.getBoundingClientRect().height\n        },\n        showPopover: true\n      })\n    } else {\n      this.setState({\n        showPopover: false\n      })\n    }\n  }\n\n  _handleWindowMouseUp = () => {\n    this.setState({\n      showPopover: false\n    })\n  }\n}\n\nSelectionPopover.propTypes = {\n  children: PropTypes.array.isRequired,\n  style: PropTypes.object,\n  topOffset: PropTypes.number\n}\n\nSelectionPopover.defaultProps = {\n  topOffset: 30\n}\n\nexport default SelectionPopover\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.js\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external {\"commonjs\":\"react\",\"commonjs2\":\"react\",\"amd\":\"React\",\"root\":\"React\"}\n ** module id = 1\n ** module chunks = 0\n **/"],"sourceRoot":""}